<app-navbar></app-navbar>
<div class="container">
    <h2>ğŸ“‹ Liste des candidatures</h2>
  
    <div class="filters">
      <input type="text" [(ngModel)]="filters.jobTitle" (input)="applyFilters()" placeholder="ğŸ” Rechercher un poste">
      <input type="date" [(ngModel)]="filters.startDate" (change)="applyFilters()">
      <input type="date" [(ngModel)]="filters.endDate" (change)="applyFilters()">
      <select [(ngModel)]="filters.status" (change)="applyFilters()">
        <option value="">ğŸ“Œ Tous les statuts</option>
        <option value="En attente">ğŸ•’ En attente</option>
        <option value="Entretien prÃ©vu">ğŸ“… Entretien prÃ©vu</option>
        <option value="AcceptÃ©">âœ… AcceptÃ©</option>
        <option value="RejetÃ©">âŒ RejetÃ©</option>
      </select>
      <input type="number" [(ngModel)]="filters.experience" (input)="applyFilters()" min="0" placeholder="â³ ExpÃ©rience (ans)">
    </div>
  
    <table class="table">
      <thead>
        <tr>
          <th>ğŸ‘¤ Candidat</th>
          <th>ğŸ’¼ Poste</th>
          <th>ğŸ“… Date</th>
          <th>ğŸ“Œ Statut</th>
          <th>â³ ExpÃ©rience</th>
          <th>âš™ï¸ Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let app of filteredApplications">
          <td>{{ app.name }}</td>
          <td>{{ app.jobTitle }}</td>
          <td>{{ app.date }}</td>
          <td>
            <select [(ngModel)]="app.status" (change)="changeStatus(app, app.status)">
              <option value="En attente">ğŸ•’ En attente</option>
              <option value="Entretien prÃ©vu">ğŸ“… Entretien prÃ©vu</option>
              <option value="AcceptÃ©">âœ… AcceptÃ©</option>
              <option value="RejetÃ©">âŒ RejetÃ©</option>
            </select>
          </td>
          <td>{{ app.experience }} ans</td>
          <td>
            <button (click)="deleteApplication(app.id)" class="btn btn-danger">ğŸ—‘ï¸ Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <app-footer></app-footer>