<nav class="navbar">
  <div class="container">
    <div class="logo">
      <a routerLink="/">
        <img src="job.png" alt="Logo" class="logo-image" />
        <span class="logo-text">JobHub</span>
      </a>
    </div>

    <!-- Menu principal -->
    <ul class="nav-links">
      <li><a routerLink="/home" routerLinkActive="active">Accueil</a></li>
      <li><a routerLink="/profile" routerLinkActive="active">Mon Profil</a></li>
      <li><a (click)="logout()">DÃ©connexion</a></li>
    </ul>
  </div>
</nav>

<div class="container">
    <h2>ğŸ“‹ Liste des candidats</h2>

    <!-- Filtres -->
    <div class="filters">
      <input type="text" [(ngModel)]="filters.jobTitle" (input)="applyFilters()" placeholder="ğŸ” Rechercher un poste">
      <input type="date" [(ngModel)]="filters.startDate" (change)="applyFilters()">
      <input type="date" [(ngModel)]="filters.endDate" (change)="applyFilters()">
      <select [(ngModel)]="filters.status" (change)="applyFilters()">
        <option value="">ğŸ“Œ Tous les statuts</option>
        <option value="En attente">ğŸ•’ En attente</option>
        <option value="Entretien prÃ©vu">ğŸ“… Entretien prÃ©vu</option>
        <option value="AcceptÃ©">âœ… AcceptÃ©</option>
        <option value="RejetÃ©">âŒ RejetÃ©</option>
      </select>
      <input type="number" [(ngModel)]="filters.experience" (input)="applyFilters()" min="0" placeholder="â³ ExpÃ©rience (ans)">
    </div>

    <!-- Tableau des candidats -->
    <table class="candidates-table">
      <thead>
        <tr>
          <th>ğŸ‘¤ Candidat</th>
          <th>ğŸ’¼ Poste</th>
          <th>ğŸ“… Date</th>
          <th>ğŸ“Œ Statut</th>
          <th>â³ ExpÃ©rience</th>
          <th>ğŸ“„ CV</th>
          <th>âš™ï¸ Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let candidate of filteredCandidates">
          <td>{{ candidate.name }}</td>
          <td>{{ candidate.jobTitle }}</td>
          <td>{{ candidate.applicationDate }}</td>
          <td class="{{ candidate.status | lowercase }}">{{ candidate.status }}</td>
          <td>{{ candidate.experience }} ans</td>
          <td><button (click)="viewCV(candidate.cvUrl)">ğŸ‘€ Voir CV</button></td>
          <td>
            <select [(ngModel)]="candidate.status" (change)="changeStatus(candidate, candidate.status)">
              <option value="En attente">ğŸ•’ En attente</option>
              <option value="Entretien prÃ©vu">ğŸ“… Entretien prÃ©vu</option>
              <option value="AcceptÃ©">âœ… AcceptÃ©</option>
              <option value="RejetÃ©">âŒ RejetÃ©</option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>

    <p *ngIf="filteredCandidates.length === 0" class="no-results">Aucun candidat trouvÃ©.</p>
</div>

<app-footer></app-footer>
